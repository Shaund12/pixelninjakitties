<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pixel Ninja Cats — Lore</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="assets/detailed_ninja_cat_64.png">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.10.0/dist/ethers.umd.min.js"></script>
    <style>
        /* Import Animate.css for subtle entrance effects */
        @import url('https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css');

        body {
            background: radial-gradient(ellipse at 60% 10%, #23263a 0%, #121212 100%);
            color: #e0e0e0;
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            margin: 0;
            letter-spacing: 0.01em;
        }

        .wrapper {
            background: transparent;
            max-width: 900px;
            margin: 0 auto 0 auto;
            padding-bottom: 40px;
        }

        h1, h2, h3 {
            color: #fff;
            font-family: 'Poppins', sans-serif;
        }

        h1 {
            background: linear-gradient(135deg, #8a65ff, #ff9800 80%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            margin-bottom: 1.5rem;
            font-size: 2.7rem;
            letter-spacing: 0.03em;
            text-shadow: 0 2px 12px #6e45e2a0;
            animation: fadeInDown 1s;
        }

        .lore-section {
            margin: 2rem 0;
            padding: 1.7rem 1.5rem 1.7rem 2.2rem;
            background: linear-gradient(120deg, rgba(138,101,255,0.07) 0%, rgba(255,152,0,0.04) 100%);
            border-radius: 16px;
            border: 1.5px solid #2d2d3a;
            box-shadow: 0 4px 18px rgba(138,101,255,0.10), 0 1.5px 8px rgba(0,0,0,0.18);
            line-height: 1.7;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s;
        }

            .lore-section:before {
                content: '';
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                width: 6px;
                border-radius: 16px 0 0 16px;
                background: linear-gradient(180deg, #8a65ff 0%, #ff9800 100%);
                opacity: 0.7;
            }

            .lore-section h2 {
                border-bottom: 2px solid #8a65ff;
                padding-bottom: 0.5rem;
                margin-top: 0;
                margin-bottom: 1.25rem;
                font-size: 1.5rem;
                letter-spacing: 0.02em;
                text-shadow: 0 1px 8px #8a65ff33;
            }

            .lore-section p {
                margin-bottom: 1rem;
                color: #d0d0d0;
                font-size: 1.08em;
            }

            .lore-section ul {
                padding-left: 1.5rem;
                color: #d0d0d0;
                margin-bottom: 0.5rem;
            }

                .lore-section ul li {
                    margin-bottom: 0.5rem;
                    position: relative;
                    padding-left: 1.2em;
                }

                    .lore-section ul li:before {
                        content: "🐾";
                        position: absolute;
                        left: 0;
                        font-size: 1em;
                        opacity: 0.7;
                    }

        .image-note {
            font-style: italic;
            font-size: 0.95rem;
            margin-top: 2rem;
            padding: 1.1rem 1.5rem;
            background: linear-gradient(90deg, #23263a 0%, #181a20 100%);
            border-radius: 10px;
            color: #b0b0b0;
            border: 1px solid #333;
            text-align: center;
            box-shadow: 0 2px 8px rgba(138,101,255,0.08);
            animation: fadeIn 1.2s;
        }

        .clan-section {
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        @media (min-width: 768px) {
            .clan-section {
                flex-direction: row;
                flex-wrap: wrap;
            }

            .clan-card {
                flex: 1 1 45%;
            }
        }

        .clan-card {
            padding: 1.5rem 1.2rem 1.5rem 1.5rem;
            border-radius: 12px;
            background: linear-gradient(120deg, rgba(138,101,255,0.06) 0%, rgba(255,152,0,0.03) 100%);
            border: 1.5px solid #2d2d3a;
            transition: all 0.3s cubic-bezier(.4,2,.6,1);
            box-shadow: 0 2px 10px rgba(138,101,255,0.08);
            position: relative;
            overflow: hidden;
        }

            .clan-card:hover {
                transform: translateY(-7px) scale(1.025);
                box-shadow: 0 8px 24px rgba(255,152,0,0.13), 0 2px 12px rgba(138,101,255,0.18);
                background: linear-gradient(120deg, rgba(255,152,0,0.08) 0%, rgba(138,101,255,0.10) 100%);
            }

            .clan-card h3 {
                margin-top: 0;
                margin-bottom: 0.75rem;
                color: #ff9800;
                font-size: 1.18rem;
                letter-spacing: 0.01em;
                text-shadow: 0 1px 8px #ff980033;
            }

        /* NFT Showcase Carousel */
        .nft-showcase {
            margin: 3rem 0;
            padding: 2rem 2.5rem;
            background: linear-gradient(120deg, rgba(138,101,255,0.08) 0%, rgba(255,152,0,0.04) 100%);
            border-radius: 18px;
            border: 1.5px solid #2d2d3a;
            box-shadow: 0 8px 24px rgba(138,101,255,0.10), 0 2px 12px rgba(0,0,0,0.18);
            text-align: center;
            animation: fadeIn 1.1s;
        }

            .nft-showcase h2 {
                color: #fff;
                margin-top: 0;
                margin-bottom: 1.5rem;
                position: relative;
                display: inline-block;
                font-size: 1.6rem;
                letter-spacing: 0.02em;
                text-shadow: 0 1px 8px #8a65ff33;
            }

                .nft-showcase h2::after {
                    content: '';
                    position: absolute;
                    width: 80%;
                    height: 3px;
                    bottom: -10px;
                    left: 10%;
                    background: linear-gradient(to right, transparent, #8a65ff, transparent);
                    border-radius: 2px;
                }

        .carousel-container {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 14px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            height: 350px;
            background: #181a20;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(.4,2,.6,1);
            height: 100%;
            background: #1a1a1a;
        }

        .carousel-item {
            min-width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .carousel-image {
            max-height: 220px;
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(138,101,255,0.18);
            object-fit: contain;
            background: #23263a;
            border: 1.5px solid #2d2d3a;
            transition: box-shadow 0.3s;
        }

            .carousel-image:hover {
                box-shadow: 0 8px 32px #8a65ff55, 0 2px 12px #ff980055;
            }

        .carousel-caption {
            margin-top: 1rem;
            color: #e0e0e0;
            font-weight: 500;
            font-size: 1.08em;
            text-shadow: 0 1px 8px #8a65ff22;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #23263a 60%, #8a65ff 100%);
            border: none;
            color: white;
            border-radius: 50%;
            font-size: 1.5rem;
            line-height: 1;
            cursor: pointer;
            opacity: 0.8;
            transition: all 0.3s;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px #8a65ff33;
        }

            .carousel-nav:hover {
                opacity: 1;
                background: linear-gradient(135deg, #8a65ff 60%, #ff9800 100%);
                color: #fff;
            }

            .carousel-nav.prev {
                left: 10px;
            }

            .carousel-nav.next {
                right: 10px;
            }

        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 1.5rem;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #333;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #8a65ff33;
        }

            .carousel-dot.active {
                background: #8a65ff;
                border-color: #ff9800;
                box-shadow: 0 0 8px #8a65ff88;
            }

            .carousel-dot:hover {
                transform: scale(1.2);
                background: #ff9800;
            }

        .carousel-counter {
            margin-top: 1rem;
            color: #9e9e9e;
            font-size: 0.98rem;
            letter-spacing: 0.01em;
        }

        .carousel-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .auto-play {
            background: #2c2c2e;
            color: #e0e0e0;
            border: none;
            padding: 0.5rem 1.2rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 8px #8a65ff22;
        }

            .auto-play:hover {
                background: #8a65ff;
                color: #fff;
            }

            .auto-play svg {
                width: 14px;
                height: 14px;
            }

        .loading-spinner {
            border: 4px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            border-top: 4px solid #8a65ff;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .view-all-btn {
            display: inline-block;
            margin-top: 1.5rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #8a65ff, #ff9800);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            box-shadow: 0 2px 8px #8a65ff22;
            letter-spacing: 0.01em;
        }

            .view-all-btn:hover {
                transform: translateY(-3px) scale(1.04);
                box-shadow: 0 8px 15px #8a65ff44, 0 2px 12px #ff980044;
                background: linear-gradient(135deg, #ff9800, #8a65ff);
            }

        /* Responsive adjustments */
        @media (max-width: 1100px) {
            .wrapper {
                padding-left: 4vw;
                padding-right: 4vw;
            }

            .nft-showcase {
                padding-left: 1vw;
                padding-right: 1vw;
            }
        }

        @media (max-width: 900px) {
            .wrapper {
                max-width: 100%;
                padding-left: 2vw;
                padding-right: 2vw;
            }

            .nft-showcase {
                padding-left: 0.5vw;
                padding-right: 0.5vw;
            }
        }

        @media (max-width: 768px) {
            .nft-showcase {
                padding: 1.5rem 0.5rem;
            }

            .carousel-container {
                height: 220px;
            }

            .carousel-image {
                max-height: 120px;
            }

            .carousel-nav {
                width: 35px;
                height: 35px;
                font-size: 1.2rem;
            }

            .lore-section {
                padding: 1.1rem 0.7rem 1.1rem 1.1rem;
            }

            .clan-card {
                padding: 1.1rem 0.7rem 1.1rem 1.1rem;
            }
        }
    </style>
</head>
<body>
    <nav>
        <img src="assets/detailed_ninja_cat_64.png"><a href="index.html">Mint</a>
        <a href="lore.html">Lore</a><a href="my-kitties.html">My&nbsp;Kitties</a>
        <a href="all-kitties.html">Gallery</a><a href="marketplace.html">Marketplace</a>
        <span class="spacer"></span><button id="connectBtn">Connect</button>
    </nav>

    <div class="wrapper">
        <h1>Ninja-Kitty&nbsp;Chronicles</h1>

        <div class="lore-section">
            <h2>Ancient Beginnings</h2>
            <p>Long before ERC-721 there was the secret order of Felidae Shinobi… In the shadowy valleys between digital and physical realms, a mysterious breed of warriors emerged. Neither fully feline nor entirely human, these nimble guardians began as ordinary house cats, transformed by an ancient blockchain incantation during the Great Bit-Eclipse.</p>
            <p>For centuries, they have protected the cryptographic barriers that separate our reality from the chaotic void beyond. Now, as the metaverse expands, they've decided to reveal themselves to worthy collectors who can carry their legacy forward.</p>
        </div>

        <!-- NFT Showcase Carousel Section -->
        <div class="nft-showcase">
            <h2>The Legendary Warriors</h2>
            <div class="carousel-container">
                <div class="carousel-track" id="nftCarousel">
                    <!-- Loading state -->
                    <div class="carousel-item">
                        <div class="loading-spinner"></div>
                        <p>Summoning ninja cats from the blockchain...</p>
                    </div>
                </div>
                <button class="carousel-nav prev" id="prevBtn">❮</button>
                <button class="carousel-nav next" id="nextBtn">❯</button>
            </div>
            <div class="carousel-controls">
                <div class="carousel-dots" id="carouselDots"></div>
                <button class="auto-play" id="autoPlayBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                    </svg>
                    Auto-Play
                </button>
                <span class="carousel-counter" id="carouselCounter">0 Ninja Cats Found</span>
            </div>
            <a href="all-kitties.html" class="view-all-btn">View All Ninja Cats</a>
        </div>

        <div class="lore-section">
            <h2>The Five Ancient Breeds</h2>
            <p>Across the digital realm, five legendary breeds of ninja cats have emerged, each with unique traits and abilities that make them formidable guardians of the blockchain:</p>

            <div class="clan-section">
                <div class="clan-card">
                    <h3>Bengal Warriors</h3>
                    <p>Known for their striking spotted patterns that shimmer with encrypted runes, Bengal ninjas excel in agility and stealth. Their distinctive coat allows them to vanish into the wildest data streams and strike with devastating precision. Many possess the legendary "Spotted Cipher" technique that can unlock gates between blockchains.</p>
                </div>

                <div class="clan-card">
                    <h3>Siamese Mystics</h3>
                    <p>With their haunting blue eyes that glow with the light of a thousand encryptions, Siamese ninjas are masters of perception and intelligence. Descendants of the royal Siam Protocol Guardians, they can slip between reality and the digital realm, acting as living bridges for lost data and deciphering the "Harmony Protocol."</p>
                </div>

                <div class="clan-card">
                    <h3>Maine Coon Titans</h3>
                    <p>Towering above their peers, Maine Coon ninjas are the mighty guardians of the blockchain's most sacred nodes. Their thick fur is rumored to be woven from quantum threads, and the "M" on their brow is said to be the original Metadata Mark. Their paws, as heavy as ledgers, can shatter encryption keys with a single swipe.</p>
                </div>

                <div class="clan-card">
                    <h3>Calico Diplomats</h3>
                    <p>Born from the forbidden merge of rival code repositories, Calico ninjas bear tri-colored coats that shimmer with the hues of every blockchain. Their unique patterns act as living maps of the digital world, allowing them to traverse protocol boundaries and mediate peace between warring networks. They are the architects of the legendary "Harmony Fork."</p>
                </div>

                <div class="clan-card">
                    <h3>Sphynx Oracles</h3>
                    <p>Not born but compiled from pure code, these hairless mystics are invisible to all conventional tracking systems. Their skin, sensitive to the faintest data flows, allows them direct interface with the blockchain. Some say they can "hear" the blockchain's heartbeat and feel the flow of data as others feel the wind, earning them the title "Whisperers of the Void."</p>
                </div>
            </div>
        </div>

        <div class="lore-section">
            <h2>Weapons of the Digital Warriors</h2>
            <p>Each ninja cat wields a weapon forged from fragments of the original blockchain, imbued with unique powers that complement their fighting style:</p>

            <ul>
                <li><strong>Katana:</strong> These legendary "Blockchain Slicers" can cut through complex smart contracts with surgical precision. The blade's edge is so fine it can separate individual bits without disrupting the data flow.</li>
                <li><strong>Shuriken:</strong> These star-shaped projectiles enable "Multi-Chain Attacks," simultaneously targeting vulnerabilities across multiple networks with deadly accuracy.</li>
                <li><strong>Nunchucks:</strong> Connected by an unbreakable chain hash, these weapons create the "Chain-Link Defense," an impenetrable barrier against malicious code.</li>
                <li><strong>Kunai:</strong> These small but lethal blades allow for "Silent Deployment," injecting security patches into networks without triggering alarms.</li>
                <li><strong>Sai:</strong> The twin-pronged defensive weapons excel at "Fork Defense," detecting and neutralizing malicious hard fork attempts.</li>
                <li><strong>Bo Staff:</strong> This versatile weapon enables "Protocol Extension," reaching and securing even the most remote parts of the blockchain infrastructure.</li>
                <li><strong>Twin Blades:</strong> The rarest of weapons, these paired swords can open temporary portals between isolated networks, creating bridges where none existed before.</li>
                <li><strong>Ghost Dagger:</strong> A mythical weapon that exists partially out of phase with normal reality, capable of striking directly at the heart of encrypted systems.</li>
            </ul>
        </div>

        <div class="lore-section">
            <h2>Elemental Mastery</h2>
            <p>Beyond physical combat, ninja cats harness elemental forces that shape their abilities and affinity within the digital ecosystem:</p>

            <div class="clan-section">
                <div class="clan-card">
                    <h3>Fire</h3>
                    <p>Fire element cats leave no transaction history behind, perfect for covert operations. Their "Burn Trace" technique purifies corrupted code through controlled digital flames. These passionate warriors excel in direct combat, their attacks growing stronger with each consecutive strike.</p>
                </div>

                <div class="clan-card">
                    <h3>Water</h3>
                    <p>Masters of "Flow Adaptation," Water ninjas seamlessly navigate between different blockchain protocols, adapting to new environments instantly. Their fluid movements and calm intelligence make them excellent strategists, capable of finding paths of least resistance through even the most complex security systems.</p>
                </div>

                <div class="clan-card">
                    <h3>Earth</h3>
                    <p>Earth element cats excel at "Foundation Reinforcement," stabilizing networks during high transaction volume. Their unbreakable resolve and grounded nature make them the most dependable guardians, able to maintain their position against overwhelming attacks and preserve the integrity of core blockchain systems.</p>
                </div>

                <div class="clan-card">
                    <h3>Wind</h3>
                    <p>With their "Transaction Acceleration" ability, Wind ninjas process operations with unmatched speed and efficiency. These agile fighters can execute multiple actions in the time it takes others to complete one, their movements so swift that they appear as mere blurs across the network.</p>
                </div>

                <div class="clan-card">
                    <h3>Shadow</h3>
                    <p>The secretive Shadow cats move through "Stealth Execution," operating completely undetected by security systems. They are the invisible guardians who monitor the darkest corners of the web, gathering intelligence and neutralizing threats before they can manifest.</p>
                </div>

                <div class="clan-card">
                    <h3>Lightning</h3>
                    <p>Lightning element ninjas possess "Hash Acceleration," dramatically speeding up mining and validation processes. Their attacks strike with blinding speed and precision, often resolving conflicts before opponents even realize a battle has begun.</p>
                </div>
            </div>
        </div>

        <div class="lore-section">
            <h2>Combat Stances & Training</h2>
            <p>Through years of rigorous training in the art of "Paw-Hash-Do," ninja cats master various combat stances that define their approach to digital warfare:</p>

            <ul>
                <li><strong>Attack Stance:</strong> Practitioners develop "Preemptive Security," detecting vulnerabilities before they can be exploited. Their offensive mindset creates the perfect defense through overwhelming force.</li>
                <li><strong>Defense Stance:</strong> Masters of the "Firewall Fortress" technique create impenetrable defenses against external threats, analyzing and adapting to new attack vectors in real-time.</li>
                <li><strong>Stealth Stance:</strong> Users of the "Ghost Protocol" move through networks without triggering security alerts, their presence undetectable even to the most sophisticated monitoring systems.</li>
                <li><strong>Agility Stance:</strong> These cats develop "Rapid Response," becoming the first to react to network threats and security breaches through constant vigilance and lightning reflexes.</li>
                <li><strong>Focus Stance:</strong> With "Deep Inspection" abilities, these practitioners can identify the most subtle anomalies in code execution, seeing patterns invisible to others.</li>
                <li><strong>Shadow Stance:</strong> Experts at "Dark Web Navigation," these ninjas track threats to their source through the most obscure corners of the internet.</li>
                <li><strong>Void Stance:</strong> The rarest stance, allowing cats to exist partially outside normal digital physics, becoming immune to certain types of attacks.</li>
                <li><strong>Ethereal Stance:</strong> Almost mythical in nature, this stance enables cats to temporarily ascend beyond physical limitations, processing information at quantum speeds.</li>
            </ul>
        </div>

        <div class="lore-section">
            <h2>Ranks of Power</h2>
            <p>As ninja cats grow in skill and wisdom, they ascend through ancient ranks that reflect their mastery and standing within the digital dojo:</p>

            <ul>
                <li><strong>Novice:</strong> Quick learners rapidly adapting to new protocols and security challenges, still developing their core skills.</li>
                <li><strong>Adept:</strong> Technically proficient warriors who efficiently execute complex operations with minimal resources.</li>
                <li><strong>Skilled:</strong> Veterans who have developed signature techniques and unique approaches to digital security.</li>
                <li><strong>Elite:</strong> Masters whose very presence deters many potential attackers, commanding respect across the network.</li>
                <li><strong>Master:</strong> Wise leaders capable of training other systems to detect and respond to threats, with deep understanding of blockchain philosophy.</li>
                <li><strong>Legendary:</strong> Revered figures known as "Blockchain Whisperers" with almost supernatural understanding of network dynamics.</li>
                <li><strong>Grandmaster:</strong> Mystics who have transcended ordinary limitations, capable of innovations that reshape how the digital world functions.</li>
                <li><strong>Immortal:</strong> The rarest rank, achieved by only a handful throughout history, these ninjas have become one with the blockchain itself, their consciousness distributed across the entire network.</li>
            </ul>
        </div>

        <div class="lore-section">
            <h2>The Nine Lives Protocol</h2>
            <p>During the infamous "51% Attack" of ancient times, the Five Breeds united to defend the nascent blockchain ecosystem. Led by the legendary Grand Meowster Satoshi (whose true identity remains unknown), they fought a shadow war against centralized powers that sought to control all digital assets.</p>
            <p>Victory was secured when the bravest ninja cats performed the "Nine Lives Protocol" - a forbidden technique that splits a warrior's consciousness across multiple nodes, ensuring the network's survival at great personal cost. The brave cats who performed this ritual became the first NFTs, their spirits preserved forever in the immutable ledger.</p>
            <p>Their sacrifice created the foundation for the special abilities that modern ninja cats possess, each inheriting fragments of the original nine lives consciousness:</p>
            <ul>
                <li>Whisker Detection - Sensing network disturbances from great distances</li>
                <li>Purr Encryption - Creating unbreakable encryption through sound wave algorithms</li>
                <li>Nine-Block Leap - Traversing great digital distances instantly</li>
                <li>Mempool Vision - Seeing pending transactions before confirmation</li>
                <li>Blockchain Slash - Cutting through code with surgical precision</li>
                <li>Multi-Chain Attack - Targeting multiple networks simultaneously</li>
                <li>Digital Camouflage - Perfect disguise within network environments</li>
                <li>Zero-Knowledge Purr - Verifying complex transactions without revealing details</li>
                <li>Quantum Pounce - Executing actions faster than any normal process</li>
            </ul>
        </div>

        <div class="lore-section">
            <h2>Prophecy of the Divine Cat</h2>
            <p>Ancient scrolls speak of a day when a ninja cat bearing the Divine rarity traits will emerge as the "Universal Bridge Guardian." This legendary figure will unite all breeds, elements, and stances, leading them into a new era of prosperity by bridging separate blockchains into a harmonious ecosystem.</p>
            <p>The prophecy tells of specific combinations - a perfect warrior with maximum combat stats, Divine-tier weapons, and unique abilities that appear only once in thousands of generations. Collectors who discover such a cat may unlock powers beyond imagination and play a crucial role in the coming Evolution of the digital ecosystem.</p>
        </div>

        <p class="image-note">All Pixel Ninja Cat images are uniquely and randomly generated using OpenAI DALL-E, creating one-of-a-kind digital warriors for each collector. The AI crafts each cat based on its breed, weapon, and element, resulting in truly unique digital companions with their own rich backstories.</p>
    </div>

    <!-- Import config first as a module -->
    <script type="module">
        import { RPC_URL, CONTRACT_ADDRESS, NFT_ABI } from './js/config.js';

        // Make these available to the non-module script
        window.NFT_CONFIG = {
            RPC_URL,
            CONTRACT_ADDRESS,
            NFT_ABI
        };
    </script>

    <!-- NFT Carousel functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', async function () {
            // NFT Carousel setup
            async function setupNFTCarousel() {
                const carouselTrack = document.getElementById('nftCarousel');
                const dotsContainer = document.getElementById('carouselDots');
                const prevBtn = document.getElementById('prevBtn');
                const nextBtn = document.getElementById('nextBtn');
                const autoPlayBtn = document.getElementById('autoPlayBtn');
                const counterEl = document.getElementById('carouselCounter');

                // Get contract config from window global set by module script
                const config = window.NFT_CONFIG;
                if (!config) {
                    console.error("Contract configuration not loaded");
                    carouselTrack.innerHTML = '<div class="carousel-item"><p>Error loading ninja cats</p></div>';
                    return;
                }

                try {
                    const provider = new ethers.JsonRpcProvider(config.RPC_URL);
                    const contract = new ethers.Contract(config.CONTRACT_ADDRESS, config.NFT_ABI, provider);

                    // Get total supply
                    const totalSupply = await contract.totalSupply();
                    const tokenCount = Number(totalSupply);

                    if (tokenCount <= 0) {
                        carouselTrack.innerHTML = `
                                        <div class="carousel-item">
                                            <img src="assets/detailed_ninja_cat_64.png" alt="Placeholder" style="width: 150px; margin-bottom: 1rem;">
                                            <p>No ninja cats have been minted yet.<br>Be the first to summon a warrior!</p>
                                        </div>`;
                        return;
                    }

                    // Update counter
                    counterEl.textContent = `${tokenCount} Ninja Cats Found`;

                    // We'll get up to 10 random cats to showcase
                    const catsToShow = Math.min(10, tokenCount);
                    const selectedTokens = [];

                    // If we have few cats, show them all
                    if (tokenCount <= 10) {
                        for (let i = 0; i < tokenCount; i++) {
                            selectedTokens.push(i);
                        }
                    } else {
                        // Otherwise select some random ones (with a bias toward newer ones)
                        // Always include the newest 3
                        for (let i = 0; i < 3 && i < tokenCount; i++) {
                            selectedTokens.push(tokenCount - 1 - i);
                        }

                        // Then add some random ones
                        while (selectedTokens.length < catsToShow) {
                            const randomIndex = Math.floor(Math.random() * tokenCount);
                            if (!selectedTokens.includes(randomIndex)) {
                                selectedTokens.push(randomIndex);
                            }
                        }
                    }

                    // Clear loading indicator
                    carouselTrack.innerHTML = '';

                    // Create a fallback image
                    const fallbackImage = "assets/detailed_ninja_cat_64.png";

                    // Create carousel items
                    for (let i = 0; i < selectedTokens.length; i++) {
                        const idx = selectedTokens[i];

                        // Create placeholder item while we load the data
                        const item = document.createElement('div');
                        item.className = 'carousel-item';
                        item.innerHTML = `
                                        <div class="loading-spinner"></div>
                                        <p>Loading Ninja Cat...</p>
                                    `;
                        carouselTrack.appendChild(item);

                        // Create dot
                        const dot = document.createElement('div');
                        dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
                        dot.addEventListener('click', () => goToSlide(i));
                        dotsContainer.appendChild(dot);

                        try {
                            // Get token ID for this index
                            const tokenId = await contract.tokenByIndex(idx);

                            // Get token URI and metadata
                            const uri = await contract.tokenURI(tokenId);
                            let metadata;

                            if (uri.startsWith('ipfs://')) {
                                const ipfsHash = uri.replace('ipfs://', '');
                                const ipfsUrl = `https://ipfs.io/ipfs/${ipfsHash}`;
                                const response = await fetch(ipfsUrl);
                                metadata = await response.json();
                            } else {
                                const response = await fetch(uri);
                                metadata = await response.json();
                            }

                            // Update the carousel item with the fetched data
                            if (metadata && metadata.image) {
                                // Fix IPFS links
                                const imageUrl = metadata.image.startsWith('ipfs://')
                                    ? metadata.image.replace('ipfs://', 'https://ipfs.io/ipfs/')
                                    : metadata.image;

                                // Get breed for display
                                let breed = "Ninja Cat";
                                if (metadata.attributes) {
                                    const breedAttr = metadata.attributes.find(a => a.trait_type === "Breed");
                                    if (breedAttr) breed = breedAttr.value;
                                }

                                item.innerHTML = `
                                                <img src="${imageUrl}" alt="${metadata.name}" class="carousel-image"
                                                     onerror="this.src='${fallbackImage}'">
                                                <div class="carousel-caption">
                                                    ${metadata.name}
                                                    <div style="font-size: 0.8rem; color: #9e9e9e; margin-top: 0.3rem;">
                                                        ${breed} · Token #${tokenId}
                                                    </div>
                                                </div>
                                            `;

                                // Add click to view details
                                item.style.cursor = 'pointer';
                                item.addEventListener('click', () => {
                                    window.location.href = `kitty.html?id=${tokenId}`;
                                });
                            }
                        } catch (err) {
                            console.error("Error loading token:", err);
                            item.innerHTML = `
                                            <img src="${fallbackImage}" alt="Ninja Cat" class="carousel-image">
                                            <div class="carousel-caption">Mysterious Ninja Cat</div>
                                        `;
                        }
                    }

                    // Set up carousel functionality
                    let currentSlide = 0;
                    const slides = document.querySelectorAll('.carousel-item');
                    const dots = document.querySelectorAll('.carousel-dot');

                    function goToSlide(n) {
                        currentSlide = n;
                        carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`;

                        // Update dots
                        dots.forEach((dot, i) => {
                            dot.classList.toggle('active', i === currentSlide);
                        });
                    }

                    // Add event listeners for navigation
                    prevBtn.addEventListener('click', () => {
                        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                        goToSlide(currentSlide);
                    });

                    nextBtn.addEventListener('click', () => {
                        currentSlide = (currentSlide + 1) % slides.length;
                        goToSlide(currentSlide);
                    });

                    // Auto-play functionality
                    let interval;
                    let isPlaying = false;

                    function toggleAutoPlay() {
                        if (isPlaying) {
                            clearInterval(interval);
                            autoPlayBtn.innerHTML = `
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                            </svg>
                                            Auto-Play`;
                        } else {
                            interval = setInterval(() => {
                                currentSlide = (currentSlide + 1) % slides.length;
                                goToSlide(currentSlide);
                            }, 4000);
                            autoPlayBtn.innerHTML = `
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="6" y="4" width="4" height="16"></rect>
                                                <rect x="14" y="4" width="4" height="16"></rect>
                                            </svg>
                                            Pause`;
                        }
                        isPlaying = !isPlaying;
                    }

                    // Start autoplay by default
                    toggleAutoPlay();

                    // Add click handler for autoplay button
                    autoPlayBtn.addEventListener('click', toggleAutoPlay);

                    // Pause on hover
                    carouselTrack.addEventListener('mouseenter', () => {
                        if (isPlaying) {
                            clearInterval(interval);
                        }
                    });

                    carouselTrack.addEventListener('mouseleave', () => {
                        if (isPlaying) {
                            clearInterval(interval);
                            interval = setInterval(() => {
                                currentSlide = (currentSlide + 1) % slides.length;
                                goToSlide(currentSlide);
                            }, 4000);
                        }
                    });

                } catch (error) {
                    console.error("Error setting up NFT carousel:", error);
                    carouselTrack.innerHTML = `
                                    <div class="carousel-item">
                                        <img src="assets/detailed_ninja_cat_64.png" alt="Placeholder" style="width: 150px; margin-bottom: 1rem;">
                                        <p>Error loading ninja cats.<br>The ancient scrolls are currently unreadable.</p>
                                    </div>`;
                }
            }

            // Initialize carousel
            setupNFTCarousel();
        });
    </script>

    <!-- Load wallet connection script -->
    <script type="module" src="js/connect-only.js"></script>

    <!-- Include the footer -->
    <footer id="footer"></footer>
    <script src="js/footer.js"></script>
</body>
</html>